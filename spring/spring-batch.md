# Spring Batch

Spring Batch를 알기전에 배치 어플리케이션에 대해 먼저 알아야겠죠.  

### 배치 애플리케이션이란 ?
먼저 batch란 `일괄처리`란 뜻을 갖고 있습니다.  

만약 매일 전 날의 데이터를 집계 해야한다고 가정해봅시다.  
이 집계 과정을 웹 애플리케이션(Spring + Tomcat)에서 수행하게 된다면,  
큰 데이터를 읽고, 가공하고, 저장한다면 서버는 순식간에 CPU, I/O 등의 자원을 다 써버려 다른 요청들을 처리하지 못하게 되겠죠.  

그리고 이 **집계 기능은 하루에 1번 수행**됩니다.  
이를 위해 API를 구성하게 된다면 **낭비**겠죠.  

또한 데이터가 많거나, 다른 이유로 처리중에 실패하면 어떻게 될까요 ?  
**5만번 째에서 실패했다면, 5만 1번째 부터 다시 실행**할 수 있다면 얼마나 좋을까요 ?  

오늘 아침에 누군가가 집계함수를 실행시켰는데 다른 누군가가 또 실행시켜 집계 데이터가 2배로 뻥튀기 될 수도 있겠죠.  
**같은 파라미터로 같은 함수를 실행할 경우** 이미 실행한 적이 있어 실패하는 기능을 지원하면 얼마나 좋을까요 ?  

바로 이런 단발성으로 대용량의 데이터를 처리하는 애플리케이션을 **배치 애플리케이션**이라고 합니다.  

위의 고민들을 다시 생각해보면 배치 어플리케이션을 구성하기 위해선 비즈니스 로직 외에 부가적으로 신경써야 할 부분이 많다는 것을 알 수 있죠.

저희는 Spring을 사용함으로써 웹 애플리케이션을 개발할 때   
저희는 비즈니스 로직에 최대한 집중할 수 있었죠.
개발할 때 비즈니스 로직에 집중하기 위해 Spring 진영에서 지원하는 배치 애플리케이션을 지원하는 모듈이 있습니다.

바로 **Spring Batch** 입니다.

Spring Batch를 소개하기 전에 배치 어플리케이션이라나 어떤 것인지 그 조건을 잠깐 이야기해보겠습니다.  
배치 어플리케이션은 다음의 조건을 만족해야만 합니다.  
* **대용량 데이터** - 배치 애플리케이션은 대량의 데이터를 가져오거나, 전달하거나, 계산하는 등의 처리를 할 수 있어야 합니다.
* **자동화** - 배치 애플리케이션은 심각한 문제 해결을 제외하고는 **사용자 개입 없이** 실행되어야 합니다.
* **견고성** - 배치 애플리케이션은 잘못된 데이터를 충돌/중단 없이 처리할 수 있어야 합니다.
* **신뢰성** - 배치 어플리케이션은 무엇이 잘못 되었는지를 추적할 수 있어야 합니다. (로깅, 알림)
* **성능** - 배치 어플리케이션은 **지정한 시간 안에 처리를 완료**하거나 동시에 실행되는 **다른 애플리케이션을 방해하지 않도록 수행**되어야 합니다.

그럼 이제 이 조건들을 만족하는 Spring Batch를 소개해보겠습니다.

### Spring Batch ?